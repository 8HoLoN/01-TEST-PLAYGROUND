<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div id="features"></div>
    plop
    ðŸ’¤
    <script>
        const features = {
            'optional_chaining': _ => {
                // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining
                return import('./test.js').then(_ => true).catch(_ => false);
            },
            'globalThis': _ => globalThis !== undefined && globalThis === window
        };

        // ES10 ES2019
        // https://maksimivanov.com/posts/new-es10-es2019-javascript-features/
        // https://webapplog.com/es7-es8/
        // https://node.university/blog/15982/es7es8
        // https://github.com/tc39/proposals
        // 



        Promise.all(Object.entries(features).map(async ([featureName, featureTest]) => {
            return [featureName, await featureTest()]
        })).then(featureResults => {

            document.querySelector('#features').innerHTML = `${
                featureResults.map(([featureName, featureTest]) => {
                    return `<div><span>${featureName}</span><span>${featureTest}</span></div>`;
                }).join('')
            }`;

        });

        /*
        (async()=>{
            console.log(await features['optional_chaining']());
            console.log(await features['globalThis']());
        })();
        //*/


        // # private member

        // https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Symbol
        // https://stackoverflow.com/questions/21724326/what-is-the-motivation-for-bringing-symbols-to-es6
        // https://www.keithcirkel.co.uk/metaprogramming-in-es6-symbols/
        // http://www.zsoltnagy.eu/es6-symbols-and-its-use-cases/

        // https://medium.com/@madasamy/javascript-brief-history-and-ecmascript-es6-es7-es8-features-673973394df4
        // https://medium.com/@js_tut/the-complete-guide-to-es10-features-f09a8c7be1bd
    </script>
</body>

</html>
